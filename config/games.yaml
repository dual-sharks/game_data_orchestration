games:
  gungeon:
    id: "gungeon"
    name: "Enter the Gungeon"
    sources: {}

    external_sources:
      tiereditems:
        base_url: "https://tiereditems.com"

        guns:
          # Relative path for the Gungeon cheat sheet
          path: "/etg"

          # HTML structure selectors
          item_selector: "a"           # each card is an <a> containing the image + span
          image_class: "etg-item"      # <img class="etg-item" ...>
          name_class: "item-title"     # <p class="item-title">Name</p>
          flavor_class: "pickup"       # <p class="pickup">Flavor text</p>
          notes_prefix: "Notes:"       # <p>Notes: ...</p>

          # Filter out non-gun entries by Type field
          exclude_type_contains:
            - "Passive"
            - "Active"

          # How to map a scraped HTML catalog item into our canonical record
          # for external Gungeon guns.
          record:
            game_id:
              value: "gungeon"
            game_name:
              value: "Enter the Gungeon"
            gun_name:
              field: "name"
            flavor_text:
              field: "flavor_text"
            type:
              field: "type"
            dps:
              source_field: "DPS"
              cast: "float"
            damage:
              source_field: "Damage"
              cast: "float"
            fire_rate:
              source_field: "Fire Rate"
              cast: "float"
            reload_time:
              source_field: "Reload Time"
              cast: "float"
            magazine_size:
              source_field: "Magazine Size"
              cast: "int"
            ammo_capacity:
              source_field: "Ammo Capacity"
              cast: "int"
            shot_speed:
              source_field: "Shot Speed"
              cast: "float"
            range:
              source_field: "Range"
              cast: "float"
            force:
              source_field: "Force"
              cast: "float"
            spread:
              source_field: "Spread"
              cast: "float"
            notes:
              field: "notes"
            source:
              value: "tiereditems"

        items:
          # Same page, different record mapping; we identify items by Type.
          path: "/etg"

          # HTML structure selectors (reuse card layout)
          item_selector: "a"
          image_class: "etg-item"
          name_class: "item-title"
          flavor_class: "pickup"
          notes_prefix: "Notes:"  # keep 'Notes:' lines as notes; 'Effect' is a field

          # Only keep entries whose Type looks like an item (Passive/Active).
          include_type_contains:
            - "Passive"
            - "Active"

          record:
            game_id:
              value: "gungeon"
            game_name:
              value: "Enter the Gungeon"
            item_name:
              field: "name"
            pickup:
              field: "flavor_text"
            type:
              field: "type"
            effect:
              source_field: "Effect"
            source:
              value: "tiereditems"

  riskofrain2:
    id: "riskofrain2"
    name: "Risk of Rain 2"
    sources: {}

